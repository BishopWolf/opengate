# File: .readthedocs.yaml

version: 2

build:
  os: "ubuntu-24.04"
  tools:
    python: "3.11"
  jobs:
    pre_build:
      - cat /home/docs/.asdf/installs/python/3.11.9/lib/python3.11/pdb.py
      - { head -n 1 /home/docs/.asdf/installs/python/3.11.9/lib/python3.11/pdb.py.bak; echo "import sys"; tail -n +2 /home/docs/.asdf/installs/python/3.11.9/lib/python3.11/pdb.py.bak; } > /home/docs/.asdf/installs/python/3.11.9/lib/python3.11/pdb.py

#      - sed -i '2s/^/import sys/' /home/docs/.asdf/installs/python/3.11.9/lib/python3.11/pdb.py
#      - sed -i '2iimport sys' /home/docs/.asdf/installs/python/3.11.9/lib/python3.11/pdb.py
#      - sed -i '3i\' /home/docs/.asdf/installs/python/3.11.9/lib/python3.11/pdb.py
#      - sed -i '3s/^/print("DEBUG:sys.path=",sys.path)\n/' /home/docs/.asdf/installs/python/3.11.9/lib/python3.11/pdb.py
#      - sed -i '' '2s/^/import sys\
#        /' /home/docs/.asdf/installs/python/3.11.9/lib/python3.11/pdb.py
#      - sed -i '' '3s/^/print("DEBUG:sys.path=",sys.path)\
#        /' /home/docs/.asdf/installs/python/3.11.9/lib/python3.11/pdb.py
#      - sed -i '' '4s/^/import cmd\
#        /' /home/docs/.asdf/installs/python/3.11.9/lib/python3.11/pdb.py
#      - sed -i '' '5s/^/print("DEBUG:cmd.__file__=",cmd.__file__)\
#        /' /home/docs/.asdf/installs/python/3.11.9/lib/python3.11/pdb.py



# Build from the docs/ directory with Sphinx
sphinx:
  configuration: docs/source/conf.py

# Explicitly set the version of Python and its requirements
python:
  install:
    - requirements: docs/requirements.txt
